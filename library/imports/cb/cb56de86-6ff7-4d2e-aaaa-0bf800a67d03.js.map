{"version":3,"sources":["assets\\scripts\\obj\\chest.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAE5E,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAmC,yBAAY;IAA/C;QAAA,qEAgCC;QA9BG,kBAAY,GAAc,IAAI,CAAC;QAG/B,eAAS,GAAiB,IAAI,CAAC;QAEvB,gBAAU,GAAiB,IAAI,CAAC;QAEhC,eAAS,GAAY,KAAK,CAAC;;IAuBvC,CAAC;IArBG,sBAAM,GAAN;IACA,CAAC;IACD,gCAAgB,GAAhB,UAAiB,KAAK,EAAE,IAAI;QACxB,IAAI,IAAI,CAAC,SAAS;YAAE,OAAO;QAC3B,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,KAAK,QAAQ,EAAC;YAC7B,mBAAmB;YACnB,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;SACzB;IACL,CAAC;IACD,yBAAS,GAAT;QACI,IAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;QAC3C,IAAI,IAAI;YAAE,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAElC,aAAa;QACb,IAAI,CAAC,YAAY,CAAC,cAAK,CAAC,EAAC,GAAG,CAAC,CAAC;QAC9B,IAAM,MAAM,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACjD,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC;QAC1B,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAE3C,CAAC;IA7BD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;+CACW;IAG/B;QADC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC;4CACQ;IALd,KAAK;QADzB,OAAO;OACa,KAAK,CAgCzB;IAAD,YAAC;CAhCD,AAgCC,CAhCkC,EAAE,CAAC,SAAS,GAgC9C;kBAhCoB,KAAK","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Chest extends cc.Component {\r\n    @property(cc.Prefab)\r\n    potionPrefab: cc.Prefab = null;\r\n\r\n    @property(cc.AudioClip)\r\n    openSound: cc.AudioClip = null;\r\n\r\n    private _animation: cc.Animation = null;\r\n\r\n    private _isOpened: boolean = false;\r\n\r\n    onLoad() {\r\n    }\r\n    onCollisionEnter(other, self){\r\n        if (this._isOpened) return;\r\n        if (other.node.name === \"Player\"){\r\n            //播放開啟寶箱動畫animation\r\n            this.openChest();\r\n            this._isOpened = true;\r\n        }\r\n    }\r\n    openChest() {\r\n        let anim = this.getComponent(cc.Animation);\r\n        if (anim) anim.play(\"chest_open\");\r\n        \r\n        //藥水放在寶箱的節點之下\r\n        this.scheduleOnce(()=>{},0.5);\r\n        const potion = cc.instantiate(this.potionPrefab);\r\n        potion.parent = this.node;\r\n        potion.setPosition(this.node.position);\r\n\r\n    }\r\n}\r\n"]}
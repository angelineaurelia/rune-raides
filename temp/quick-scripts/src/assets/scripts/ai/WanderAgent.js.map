{"version":3,"sources":["assets/scripts/ai/WanderAgent.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,kFAAkF;AAClF,yFAAyF;AACzF,mBAAmB;AACnB,4FAA4F;AAC5F,mGAAmG;AACnG,8BAA8B;AAC9B,4FAA4F;AAC5F,mGAAmG;;;;;;;;;;;;;;;;;;;;;AAEnG,0DAAsE;AACtE,iCAA4B;AAE5B,kDAAiD;AAC3C,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAE5C,SAAS,mBAAmB,CAAC,MAAkB;IAAlB,uBAAA,EAAA,UAAkB;IAC3C,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;IACxC,OAAO,IAAI,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC,CAAC;AAC3E,CAAC;AACD;;GAEG;AAEH;IACY,+BAAK;IADjB;QAAA,qEAqEC;QAjEG,iEAAiE;QAEjE,kBAAY,GAAG,GAAG,CAAC;QACnB,yCAAyC;QAEzC,eAAS,GAAG,GAAG,CAAC;QAChB,uEAAuE;QAEvE,kBAAY,GAAG,GAAG,CAAC;QACnB;;;;UAIE;QAEF,sBAAgB,GAAG,GAAG,CAAC;QAGf,eAAS,GAAgB,IAAI,CAAC;QAUtC,YAAM,GAAgB,4BAAW,CAAC,IAAI,CAAC;QACvC,cAAQ,GAAgB,4BAAW,CAAC,IAAI,CAAC;;QAgCzC,gCAAgC;QAChC,oFAAoF;QACpF,+BAA+B;QAC/B,iBAAiB;IACrB,CAAC;IA7CG,sBAAW,uCAAc;aAAzB;YACI,IAAI,CAAC,IAAI,CAAC,SAAS;gBAAE,OAAO,CAAC,CAAC;YAC9B,OAAO,IAAI,CAAC,SAAS,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC;QAC1D,CAAC;;;OAAA;IAAA,CAAC;IACF,sBAAW,qCAAY;aAAvB;YACI,IAAI,CAAC,IAAI,CAAC,SAAS;gBAAE,OAAO,CAAC,CAAC;YAC9B,OAAO,IAAI,CAAC,SAAS,CAAC,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC;QACxD,CAAC;;;OAAA;IAKD,4EAA4E;IAC5E,gEAAgE;IAChE,mBAAmB;IACnB,4EAA4E;IAC5E,oCAAoC;IACpC,oEAAoE;IACpE,0EAA0E;IAC1E,4EAA4E;IAElE,iCAAW,GAArB,UAAsB,EAAU;QAC5B,oCAAoC;QACpC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;QAC1B,YAAY;IAChB,CAAC;IAED,wBAAwB;IAExB,4BAAM,GAAN;QACI,oCAAoC;QACpC,IAAI,CAAC,SAAS,GAAG,IAAI,mBAAQ,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAC3F,YAAY;IAChB,CAAC;IAED,2BAAK,GAAL;QACI,oCAAoC;QACpC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;QACvB,YAAY;IAChB,CAAC;IAzDD;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;qDACA;IAGnB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;kDACH;IAGhB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;qDACA;IAOnB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;yDACI;IAnBN,WAAW;QAD/B,OAAO;OACa,WAAW,CAqE/B;IAAD,kBAAC;CArED,AAqEC,CApEW,eAAK,GAoEhB;kBArEoB,WAAW","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport { ButtonState, IInputControls } from \"../input/IInputControls\";\nimport Agent from \"./Agent\";\nimport { AI } from \"./strategies/AgentStrategy\";\nimport { Wanderer } from \"./strategies/Wanderer\";\nconst { ccclass, property } = cc._decorator;\n\nfunction randomPointOnCircle(radius: number = 1) {\n    let angle = Math.random() * Math.PI * 2;\n    return new cc.Vec2(Math.cos(angle) * radius, Math.sin(angle) * radius);\n}\n/**\n * An agent that simply wanders around like a cute animal.\n */\n@ccclass\nexport default class WanderAgent\n    extends Agent\n    implements IInputControls {\n\n    /** The agent will move for this long before stopping to wait. */\n    @property(cc.Float)\n    moveDuration = 1.0;\n    /** The agent will move at this speed. */\n    @property(cc.Float)\n    moveSpeed = 5.0;\n    /** The agent will wait for this long before starting to move again. */\n    @property(cc.Float)\n    waitDuration = 0.5;\n    /** The actual wait duration will be randomized by this factor, \n     *  such that the actual wait duration is a random number between\n     *  waitDuration x (1 - waitRandomFactor) and \n     *  waitDuration x (1 + waitRandomFactor).\n    */\n    @property(cc.Float)\n    waitRandomFactor = 0.1;\n\n\n    private _strategy: AI.Strategy = null;\n\n    public get horizontalAxis() {\n        if (!this._strategy) return 0;\n        return this._strategy.horizontalAxis * this.moveSpeed;\n    };\n    public get verticalAxis() {\n        if (!this._strategy) return 0;\n        return this._strategy.verticalAxis * this.moveSpeed;\n    }\n    attack: ButtonState = ButtonState.Rest;\n    interact: ButtonState = ButtonState.Rest;\n\n\n    //*||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*\\\\\n    // TODO (2.4): Complete WanderAgent using the Wanderer strategy.\n    // [SPECIFICATIONS]\n    // - Assign a new Wanderer to this.strategy, with WandererAgent's properties\n    //   as the constructor's arguments.\n    // - Invoke its \"start\" method inside WanderAgent's \"start\" method. \n    // - Invoke its \"update\" method inside WanderAgent's \"agentUpdate\" method.\n    //*||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*\\\\\n\n    protected agentUpdate(dt: number): void {\n        //#region [YOUR IMPLEMENTATION HERE]\n        this._strategy.update(dt);\n        //#endregion\n    }\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n        //#region [YOUR IMPLEMENTATION HERE]\n        this._strategy = new Wanderer(this.moveDuration, this.waitDuration, this.waitRandomFactor);\n        //#endregion\n    }\n\n    start() {\n        //#region [YOUR IMPLEMENTATION HERE]\n        this._strategy.start();\n        //#endregion\n    }\n\n    // !!! DO NOT IMPLEMENT \"update\"\n    // !!! If you want to, you'll have to call the parent class's update method as well!\n    // !!! Use agentUpdate instead.\n    // update (dt) {}\n}\n"]}
{"version":3,"sources":["assets\\scripts\\ai\\navigation\\Waypoint.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,kFAAkF;AAClF,yFAAyF;AACzF,mBAAmB;AACnB,4FAA4F;AAC5F,mGAAmG;AACnG,8BAA8B;AAC9B,4FAA4F;AAC5F,mGAAmG;;;;;;;;;;;;;;;;;;;;;AAE7F,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAsC,4BAAY;IAAlD;QAAA,qEAyCC;QAtCY,uBAAiB,GAAe,EAAE,CAAC;QACnC,eAAS,GAAa,EAAE,CAAC;;QAoClC,iBAAiB;IACrB,CAAC;iBAzCoB,QAAQ;IAKzB;;;;OAIG;IACI,6BAAU,GAAjB,UAAkB,aAAuB;QACrC,OAAO,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;IACnD,CAAC;IAEM,iCAAc,GAArB,UAAsB,SAAkB;QACpC,+CAA+C;QAC/C,kDAAkD;QAClD,mCAAmC;QACnC,OAAO,SAAS,CAAC,qBAAqB,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC;aAC/C,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAClD,GAAG,EAAE,CAAC;IACf,CAAC;IAEM,4BAAS,GAAhB,UAAiB,aAAuB;QACpC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QAC3C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC;IACxD,CAAC;IAED,wBAAwB;IAExB,yBAAM,GAAN;QACI,KAAqB,UAAsB,EAAtB,KAAA,IAAI,CAAC,iBAAiB,EAAtB,cAAsB,EAAtB,IAAsB,EAAE;YAAxC,IAAI,QAAQ,SAAA;YACb,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;SAClD;IACL,CAAC;IAED,wBAAK,GAAL;IAEA,CAAC;;IAnCD;QADC,QAAQ,CAAC,UAAQ,CAAC;uDACyB;IAH3B,QAAQ;QAD5B,OAAO;OACa,QAAQ,CAyC5B;IAAD,eAAC;CAzCD,AAyCC,CAzCqC,EAAE,CAAC,SAAS,GAyCjD;kBAzCoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Waypoint extends cc.Component {\r\n\r\n    @property(Waypoint)\r\n    readonly adjacentWaypoints: Waypoint[] = [];\r\n    readonly distances: number[] = [];\r\n    /**\r\n     * Returns the distance to a given waypoint.\r\n     * @param otherWaypoint The waypoint to compute the distance to.\r\n     * @returns The distance to that waypoint.\r\n     */\r\n    public distanceTo(otherWaypoint: Waypoint): number{\r\n        return this.distanceToNode(otherWaypoint.node);\r\n    }\r\n\r\n    public distanceToNode(otherNode: cc.Node): number{\r\n        // Computes the magnitude of the vector (a - b)\r\n        // Where \"a\" is the other waypoint's position, and\r\n        // \"b\" is this waypoint's position.\r\n        return otherNode.convertToWorldSpaceAR(cc.Vec2.ZERO)\r\n            .sub(this.node.convertToWorldSpaceAR(cc.Vec2.ZERO))\r\n            .mag();\r\n    }\r\n\r\n    public addEdgeTo(otherWaypoint: Waypoint): void{\r\n        this.adjacentWaypoints.push(otherWaypoint);\r\n        this.distances.push(this.distanceTo(otherWaypoint));\r\n    }\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        for (let neighbor of this.adjacentWaypoints) {\r\n            this.distances.push(this.distanceTo(neighbor));\r\n        }\r\n    }\r\n\r\n    start () {\r\n\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}
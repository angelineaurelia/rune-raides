{"version":3,"sources":["assets\\scripts\\ai\\WanderAgent.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,kFAAkF;AAClF,yFAAyF;AACzF,mBAAmB;AACnB,4FAA4F;AAC5F,mGAAmG;AACnG,8BAA8B;AAC9B,4FAA4F;AAC5F,mGAAmG;;;;;;;;;;;;;;;;;;;;;AAEnG,0DAAsE;AACtE,iCAA4B;AAE5B,kDAAiD;AAC3C,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAE5C,SAAS,mBAAmB,CAAC,MAAkB;IAAlB,uBAAA,EAAA,UAAkB;IAC3C,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;IACxC,OAAO,IAAI,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC,CAAC;AAC3E,CAAC;AACD;;GAEG;AAEH;IACY,+BAAK;IADjB;QAAA,qEAqEC;QAjEG,iEAAiE;QAEjE,kBAAY,GAAG,GAAG,CAAC;QACnB,yCAAyC;QAEzC,eAAS,GAAG,GAAG,CAAC;QAChB,uEAAuE;QAEvE,kBAAY,GAAG,GAAG,CAAC;QACnB;;;;UAIE;QAEF,sBAAgB,GAAG,GAAG,CAAC;QAGf,eAAS,GAAgB,IAAI,CAAC;QAUtC,YAAM,GAAgB,4BAAW,CAAC,IAAI,CAAC;QACvC,cAAQ,GAAgB,4BAAW,CAAC,IAAI,CAAC;;QAgCzC,gCAAgC;QAChC,oFAAoF;QACpF,+BAA+B;QAC/B,iBAAiB;IACrB,CAAC;IA7CG,sBAAW,uCAAc;aAAzB;YACI,IAAI,CAAC,IAAI,CAAC,SAAS;gBAAE,OAAO,CAAC,CAAC;YAC9B,OAAO,IAAI,CAAC,SAAS,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC;QAC1D,CAAC;;;OAAA;IAAA,CAAC;IACF,sBAAW,qCAAY;aAAvB;YACI,IAAI,CAAC,IAAI,CAAC,SAAS;gBAAE,OAAO,CAAC,CAAC;YAC9B,OAAO,IAAI,CAAC,SAAS,CAAC,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC;QACxD,CAAC;;;OAAA;IAKD,4EAA4E;IAC5E,gEAAgE;IAChE,mBAAmB;IACnB,4EAA4E;IAC5E,oCAAoC;IACpC,oEAAoE;IACpE,0EAA0E;IAC1E,4EAA4E;IAElE,iCAAW,GAArB,UAAsB,EAAU;QAC5B,oCAAoC;QACpC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;QAC1B,YAAY;IAChB,CAAC;IAED,wBAAwB;IAExB,4BAAM,GAAN;QACI,oCAAoC;QACpC,IAAI,CAAC,SAAS,GAAG,IAAI,mBAAQ,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAC3F,YAAY;IAChB,CAAC;IAED,2BAAK,GAAL;QACI,oCAAoC;QACpC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;QACvB,YAAY;IAChB,CAAC;IAzDD;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;qDACA;IAGnB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;kDACH;IAGhB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;qDACA;IAOnB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;yDACI;IAnBN,WAAW;QAD/B,OAAO;OACa,WAAW,CAqE/B;IAAD,kBAAC;CArED,AAqEC,CApEW,eAAK,GAoEhB;kBArEoB,WAAW","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport { ButtonState, IInputControls } from \"../input/IInputControls\";\r\nimport Agent from \"./Agent\";\r\nimport { AI } from \"./strategies/AgentStrategy\";\r\nimport { Wanderer } from \"./strategies/Wanderer\";\r\nconst { ccclass, property } = cc._decorator;\r\n\r\nfunction randomPointOnCircle(radius: number = 1) {\r\n    let angle = Math.random() * Math.PI * 2;\r\n    return new cc.Vec2(Math.cos(angle) * radius, Math.sin(angle) * radius);\r\n}\r\n/**\r\n * An agent that simply wanders around like a cute animal.\r\n */\r\n@ccclass\r\nexport default class WanderAgent\r\n    extends Agent\r\n    implements IInputControls {\r\n\r\n    /** The agent will move for this long before stopping to wait. */\r\n    @property(cc.Float)\r\n    moveDuration = 1.0;\r\n    /** The agent will move at this speed. */\r\n    @property(cc.Float)\r\n    moveSpeed = 5.0;\r\n    /** The agent will wait for this long before starting to move again. */\r\n    @property(cc.Float)\r\n    waitDuration = 0.5;\r\n    /** The actual wait duration will be randomized by this factor, \r\n     *  such that the actual wait duration is a random number between\r\n     *  waitDuration x (1 - waitRandomFactor) and \r\n     *  waitDuration x (1 + waitRandomFactor).\r\n    */\r\n    @property(cc.Float)\r\n    waitRandomFactor = 0.1;\r\n\r\n\r\n    private _strategy: AI.Strategy = null;\r\n\r\n    public get horizontalAxis() {\r\n        if (!this._strategy) return 0;\r\n        return this._strategy.horizontalAxis * this.moveSpeed;\r\n    };\r\n    public get verticalAxis() {\r\n        if (!this._strategy) return 0;\r\n        return this._strategy.verticalAxis * this.moveSpeed;\r\n    }\r\n    attack: ButtonState = ButtonState.Rest;\r\n    interact: ButtonState = ButtonState.Rest;\r\n\r\n\r\n    //*||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*\\\\\r\n    // TODO (2.4): Complete WanderAgent using the Wanderer strategy.\r\n    // [SPECIFICATIONS]\r\n    // - Assign a new Wanderer to this.strategy, with WandererAgent's properties\r\n    //   as the constructor's arguments.\r\n    // - Invoke its \"start\" method inside WanderAgent's \"start\" method. \r\n    // - Invoke its \"update\" method inside WanderAgent's \"agentUpdate\" method.\r\n    //*||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*\\\\\r\n\r\n    protected agentUpdate(dt: number): void {\r\n        //#region [YOUR IMPLEMENTATION HERE]\r\n        this._strategy.update(dt);\r\n        //#endregion\r\n    }\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        //#region [YOUR IMPLEMENTATION HERE]\r\n        this._strategy = new Wanderer(this.moveDuration, this.waitDuration, this.waitRandomFactor);\r\n        //#endregion\r\n    }\r\n\r\n    start() {\r\n        //#region [YOUR IMPLEMENTATION HERE]\r\n        this._strategy.start();\r\n        //#endregion\r\n    }\r\n\r\n    // !!! DO NOT IMPLEMENT \"update\"\r\n    // !!! If you want to, you'll have to call the parent class's update method as well!\r\n    // !!! Use agentUpdate instead.\r\n    // update (dt) {}\r\n}\r\n"]}